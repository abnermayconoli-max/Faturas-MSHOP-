<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <title>Faturas MSHOP</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- CSS -->
    <link rel="stylesheet" href="{{ url_for('static', path='style.css') }}">

</head>
<body>
<header class="topbar">
    <div class="topbar-inner">
        <div class="logo">Faturas MSHOP</div>
        <nav class="menu">
            <button class="menu-item" data-tab="faturas">Faturas</button>
            <button class="menu-item" data-tab="cadastro">Cadastro</button>
            <button class="menu-item" data-tab="dashboard">Dashboard</button>
        </nav>
    </div>
</header>

<main class="container">

    <!-- LISTA DE FATURAS -->
    <section id="tab-faturas" class="tab active">
        <h1>Lista de Faturas</h1>

        <div class="card">
            <div class="filtros">
                <div class="campo">
                    <label for="filtro-transportadora">Transportadora</label>
                    <input id="filtro-transportadora" type="text" placeholder="Ex: DHL">
                </div>
                <div class="botoes-filtro">
                    <button id="btn-aplicar-filtro" class="btn primary">Aplicar filtro</button>
                    <button id="btn-limpar-filtro" class="btn">Limpar</button>
                    <button id="btn-exportar-excel-filtro" class="btn outline">
                        Exportar Excel (filtro)
                    </button>
                    <button id="btn-exportar-excel-todas" class="btn outline">
                        Exportar Excel (todas)
                    </button>
                </div>
            </div>

            <table class="tabela" id="tabela-faturas">
                <thead>
                <tr>
                    <th>ID</th>
                    <th>Transportadora</th>
                    <th>Nº Fatura</th>
                    <th>Valor</th>
                    <th>Vencimento</th>
                    <th>Status</th>
                    <th>Responsável</th>
                    <th>Ações</th>
                </tr>
                </thead>
                <tbody>
                <!-- preenchido via JS -->
                </tbody>
            </table>
        </div>
    </section>

    <!-- CADASTRO -->
    <section id="tab-cadastro" class="tab">
        <h1>Cadastro de Fatura</h1>

        <div class="card">
            <form id="form-cadastro" class="form-grid">
                <div class="campo">
                    <label for="cad-transportadora">Transportadora</label>
                    <input id="cad-transportadora" name="transportadora" required>
                </div>

                <div class="campo">
                    <label for="cad-numero">Número da Fatura</label>
                    <input id="cad-numero" name="numero_fatura" required>
                </div>

                <div class="campo">
                    <label for="cad-valor">Valor</label>
                    <input id="cad-valor" name="valor" type="number" step="0.01" required>
                </div>

                <div class="campo">
                    <label for="cad-vencimento">Data de Vencimento</label>
                    <input id="cad-vencimento" name="data_vencimento" type="date" required>
                </div>

                <div class="campo">
                    <label for="cad-status">Status</label>
                    <select id="cad-status" name="status">
                        <option value="Pendente">Pendente</option>
                        <option value="Atrasada">Atrasada</option>
                        <option value="Em dia">Em dia</option>
                    </select>
                </div>

                <div class="campo full">
                    <label for="cad-observacao">Observação</label>
                    <textarea id="cad-observacao" name="observacao" rows="3"
                              placeholder="Observações gerais da fatura..."></textarea>
                </div>

                <div class="campo full">
                    <label>Anexos (opcional)</label>
                    <input type="file" multiple disabled>
                    <small>Anexos ainda não estão sendo gravados no disco (campo visual). Vamos ligar isso depois.</small>
                </div>

                <div class="acoes-form">
                    <button type="submit" class="btn primary">Salvar Fatura</button>
                </div>
            </form>
        </div>
    </section>

    <!-- DASHBOARD -->
    <section id="tab-dashboard" class="tab">
        <h1>Dashboard</h1>

        <div class="card">
            <div class="cards-dashboard">
                <div class="dash-card">
                    <span class="dash-label">Valor total</span>
                    <span id="dash-total" class="dash-value">R$ 0,00</span>
                </div>
                <div class="dash-card">
                    <span class="dash-label">Pendentes</span>
                    <span id="dash-pendentes" class="dash-value">0 (R$ 0,00)</span>
                </div>
                <div class="dash-card">
                    <span class="dash-label">Atrasadas</span>
                    <span id="dash-atrasadas" class="dash-value">0 (R$ 0,00)</span>
                </div>
                <div class="dash-card">
                    <span class="dash-label">Em dia</span>
                    <span id="dash-em-dia" class="dash-value">0 (R$ 0,00)</span>
                </div>
            </div>

            <div class="acoes-dashboard">
                <button id="btn-atualizar-dashboard" class="btn primary">
                    Atualizar Dashboard
                </button>
                <button id="btn-exportar-dashboard" class="btn outline">
                    Exportar Excel (todas as faturas)
                </button>
            </div>
        </div>
    </section>

</main>

<script src="{{ url_for('static', path='app.js') }}"></script>
</body>
</html>
